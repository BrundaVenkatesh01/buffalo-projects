/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BUFFALO PROJECTS - VERCEL/OPENAI DESIGN SYSTEM
   Precision. Clarity. Restraint.
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   UTILITY LAYER - Custom utilities
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

@layer utilities {
  /* Gradient mask for content overflow */
  .mask-gradient-bottom {
    -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
    mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
  }

  /* Hide native scrollbars while preserving scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari */
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   BASE LAYER - Foundation
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

@layer base {
  /* ─── COLOR SYSTEM (Vercel/OpenAI Inspired) ────────────────── */
  :root {
    /* Canvas - Pure black like Vercel */
    --background: 0 0% 0%; /* #000000 */
    --foreground: 0 0% 98%; /* #FAFAFA - Vercel text */

    /* Surfaces - Neutral grays with subtle elevation */
    --card: 0 0% 4%; /* #0A0A0A - Elevated cards */
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 6%; /* #0F0F0F - Popovers slightly lighter */
    --popover-foreground: 0 0% 98%;

    /* Primary - Vercel blue (trust, interaction) */
    --primary: 213 100% 50%; /* #0070F3 - Vercel blue */
    --primary-foreground: 0 0% 100%;
    --primary-hover: 213 100% 45%; /* Darker on hover */

    /* Secondary - Neutral gray surfaces */
    --secondary: 0 0% 9%; /* #171717 - Vercel gray-900 */
    --secondary-foreground: 0 0% 98%;

    /* Muted - De-emphasized content */
    --muted: 0 0% 15%; /* #262626 - Vercel gray-800 */
    --muted-foreground: 0 0% 63%; /* #A1A1A1 - Vercel gray-400 */

    /* Accent - Subtle highlights (OpenAI teal) */
    --accent: 174 72% 56%; /* #10A37F - OpenAI brand */
    --accent-foreground: 0 0% 0%;

    /* Semantic colors */
    --destructive: 0 84% 60%; /* #F31260 - Vercel red */
    --destructive-foreground: 0 0% 100%;
    --success: 142 76% 36%; /* #16A34A - Green */
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%; /* #F59E0B - Amber */
    --warning-foreground: 0 0% 100%;

    /* Borders - Vercel's subtle approach */
    --border: 0 0% 18%; /* #2E2E2E - Very subtle */
    --border-hover: 0 0% 25%; /* #404040 - Slightly visible on hover */
    --input: 0 0% 18%;
    --ring: 213 100% 50%; /* Matches primary */

    /* ─── ELEVATIONS (Vercel layering) ─────────────────────────── */
    --elevation-1: 0 0% 4%; /* #0A0A0A - First layer */
    --elevation-2: 0 0% 6%; /* #0F0F0F - Second layer */
    --elevation-3: 0 0% 9%; /* #171717 - Third layer */

    /* ─── RADIUS SCALE (Vercel's refined approach) ─────────────── */
    --radius: 0.5rem; /* 8px - Tighter default */

    /* Radius scale - more conservative */
    --radius-sm: 0.375rem; /* 6px */
    --radius-md: 0.5rem; /* 8px */
    --radius-lg: 0.75rem; /* 12px */
    --radius-xl: 1rem; /* 16px */
    --radius-2xl: 1.25rem; /* 20px - Less rounded than before */
    --radius-full: 9999px; /* Pills */

    /* ─── SEMANTIC RADIUS ───────────────────────────────────────── */
    --radius-button: 0.375rem; /* 6px - Vercel buttons are subtle */
    --radius-card: 0.75rem; /* 12px - Cards slightly rounded */
    --radius-input: 0.5rem; /* 8px - Clean inputs */
    --radius-badge: 0.25rem; /* 4px - Minimal badges */
    --radius-dialog: 0.75rem; /* 12px - Dialogs */
    --radius-sheet: 0; /* 0px - Sheets are full edge */

    /* ─── SPACING SCALE (8px grid) ──────────────────────────────── */
    --spacing-unit: 0.25rem; /* 4px base */

    /* ─── TYPOGRAPHY SCALE ──────────────────────────────────────── */
    --font-size-xs: 0.75rem; /* 12px */
    --font-size-sm: 0.875rem; /* 14px */
    --font-size-base: 1rem; /* 16px */
    --font-size-lg: 1.125rem; /* 18px */
    --font-size-xl: 1.25rem; /* 20px */
    --font-size-2xl: 1.5rem; /* 24px */
    --font-size-3xl: 1.875rem; /* 30px */
    --font-size-4xl: 2.25rem; /* 36px */
    --font-size-5xl: 3rem; /* 48px */

    /* Line heights - OpenAI's precise approach */
    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;
    --leading-loose: 2;

    /* Letter spacing */
    --tracking-tighter: -0.05em;
    --tracking-tight: -0.025em;
    --tracking-normal: 0;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;
  }

  /* Monochrome brand variant — apply class "brand-mono" to <html> or <body> */
  .brand-mono {
    /* Use white as interactive accent; keep canvas black */
    --primary: 0 0% 98%; /* white */
    --primary-foreground: 0 0% 0%; /* black text on white */
    --primary-hover: 0 0% 92%; /* subtle gray on hover */

    /* Keep secondary surfaces dark; accent becomes subtle white */
    --accent: 0 0% 98%;
    --accent-foreground: 0 0% 0%;

    /* Focus ring follows monochrome accent */
    --ring: 0 0% 98%;

    /* Optional: slightly cooler foreground for long copy */
    /* --foreground: 0 0% 96%; */
  }

  /* ─── THEME VARIANT (if needed) ────────────────────────────── */
  .dark {
    /* Already optimized for dark, but keeping for consistency */
    --background: 0 0% 0%;
    --foreground: 0 0% 98%;
  }

  /* ─── BRUTAL RESETS ────────────────────────────────────────── */
  *,
  *::before,
  *::after {
    @apply m-0 border-border p-0;
    box-sizing: border-box;
  }

  /* ─── HTML/BODY FOUNDATION ─────────────────────────────────── */
  html {
    font-size: 16px; /* Base unit for rem calculations */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  body {
    @apply bg-background font-sans text-foreground;
    line-height: 1.6;
    overflow-x: hidden;
    min-height: 100vh;
    /* Consistent background - pure black */
    background-color: #000000;
  }

  /* ─── TYPOGRAPHY HIERARCHY (Vercel/OpenAI precision) ────────── */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans font-semibold text-foreground;
    margin: 0;
    letter-spacing: var(--tracking-tight);
    line-height: var(--leading-tight);
  }

  h1 {
    font-size: clamp(2rem, 4vw, 3rem); /* 32-48px responsive */
    letter-spacing: -0.025em;
  }

  h2 {
    font-size: clamp(1.5rem, 3vw, 2.25rem); /* 24-36px responsive */
    letter-spacing: -0.02em;
  }

  h3 {
    @apply text-xl md:text-2xl;
    letter-spacing: -0.015em;
  }

  h4 {
    @apply text-lg md:text-xl;
    letter-spacing: -0.01em;
  }

  h5 {
    @apply text-base md:text-lg;
    letter-spacing: 0;
  }

  h6 {
    @apply text-sm md:text-base;
    letter-spacing: 0;
  }

  p {
    @apply text-muted-foreground;
    margin: 0;
    line-height: var(--leading-relaxed);
  }

  /* Body text variants */
  .text-body-lg {
    @apply text-lg;
    line-height: var(--leading-relaxed);
  }

  .text-body {
    @apply text-base;
    line-height: var(--leading-normal);
  }

  .text-body-sm {
    @apply text-sm;
    line-height: var(--leading-normal);
  }

  /* ─── LINKS ────────────────────────────────────────────────── */
  a {
    @apply text-primary underline-offset-4 transition-colors;
    text-decoration: none;
    -webkit-tap-highlight-color: transparent;
  }

  a:hover {
    @apply text-primary/80 underline;
  }

  a:focus-visible {
    @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
  }

  /* ─── BUTTONS/INTERACTIVE ──────────────────────────────────── */
  button,
  label {
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }

  button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  /* ─── FORM ELEMENTS ────────────────────────────────────────── */
  input,
  textarea,
  select {
    @apply text-foreground;
  }

  input::placeholder,
  textarea::placeholder {
    @apply text-muted-foreground/50;
  }

  /* ─── CODE/PREFORMATTED ────────────────────────────────────── */
  code {
    @apply rounded bg-muted px-1.5 py-0.5 font-mono text-sm;
  }

  pre {
    @apply overflow-x-auto rounded-lg bg-muted p-4 text-sm;
  }

  pre code {
    @apply bg-transparent p-0;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   COMPONENTS LAYER - Reusable Patterns
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

@layer components {
  /* ─── CONTAINERS ────────────────────────────────────────────── */
  .container {
    @apply mx-auto w-full;
    max-width: 1400px;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  @media (min-width: 640px) {
    .container {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  .container-narrow {
    @apply mx-auto w-full;
    max-width: 800px;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  .container-wide {
    @apply mx-auto w-full;
    max-width: 1600px;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  /* ─── SECTION SPACING (8px grid system) ────────────────────── */
  .section {
    @apply py-16 md:py-24;
  }

  .section-sm {
    @apply py-12 md:py-16;
  }

  .section-lg {
    @apply py-24 md:py-32;
  }

  /* ─── CARDS (Vercel minimal approach) ──────────────────────── */
  .card-base {
    @apply rounded-lg border border-white/[0.08] bg-elevation-1 transition-all duration-200;
  }

  .card-interactive {
    @apply card-base hover:border-white/[0.12] hover:bg-elevation-2;
  }

  .card-elevated {
    @apply card-base border-white/[0.1] bg-elevation-2;
  }

  /* ─── GLASS EFFECTS (More subtle) ──────────────────────────── */
  .glass {
    @apply bg-black/40 backdrop-blur-md;
    -webkit-backdrop-filter: blur(16px);
  }

  .glass-strong {
    @apply bg-black/60 backdrop-blur-lg;
    -webkit-backdrop-filter: blur(24px);
  }

  /* ─── VERCEL-STYLE BORDERS ─────────────────────────────────── */
  .border-subtle {
    @apply border border-white/[0.08];
  }

  .border-subtle-hover {
    @apply border border-white/[0.08] hover:border-white/[0.12];
  }

  /* ─── TEXT GRADIENTS ───────────────────────────────────────── */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
  }

  .text-gradient-warm {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #f59e0b 0%, #dc2626 100%);
  }

  /* ─── FOCUS STATES (WCAG AAA compliant) ────────────────────────── */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }

  /* ─── ANIMATIONS ───────────────────────────────────────────── */
  .animate-in {
    animation: animate-in 0.4s cubic-bezier(0, 0, 0.2, 1);
  }

  @keyframes animate-in {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-scale-in {
    animation: scale-in 0.2s cubic-bezier(0, 0, 0.2, 1);
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   UTILITIES LAYER - One-off Helpers
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

@layer utilities {
  /* ─── SCROLLBARS (Subtle, modern) ──────────────────────────── */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply rounded-full bg-muted transition-colors;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/40;
  }

  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted)) transparent;
  }

  /* ─── TEXT SELECTION ───────────────────────────────────────── */
  ::selection {
    @apply bg-primary/25 text-primary-foreground;
  }

  ::-moz-selection {
    @apply bg-primary/25 text-primary-foreground;
  }

  /* ─── FOCUS VISIBLE (enhanced for accessibility) ──────────────────── */
  :focus-visible {
    outline: 3px solid hsl(var(--ring));
    outline-offset: 2px;
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.2);
  }

  /* ─── REDUCED MOTION ───────────────────────────────────────── */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* ─── PRINT STYLES ─────────────────────────────────────────── */
  @media print {
    body {
      @apply bg-white text-black;
    }

    .no-print {
      display: none !important;
    }
  }

  /* ─── TEXT TRUNCATION ──────────────────────────────────────── */
  .truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* ─── ASPECT RATIOS ────────────────────────────────────────── */
  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-portrait {
    aspect-ratio: 3 / 4;
  }
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   THIRD-PARTY OVERRIDES
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

/* Radix UI - Make sure overlays are smooth */
[data-radix-popper-content-wrapper] {
  z-index: 50 !important;
}

/* Sonner toasts - Match design system */
[data-sonner-toast] {
  @apply rounded-xl border-white/10 bg-card font-sans text-sm text-card-foreground;
}

[data-sonner-toast][data-type="success"] {
  @apply border-green-500/30 bg-green-500/10 text-green-100;
}

[data-sonner-toast][data-type="error"] {
  @apply border-destructive/30 bg-destructive/10 text-destructive-foreground;
}

[data-sonner-toast][data-type="warning"] {
  @apply border-orange-500/30 bg-orange-500/10 text-orange-100;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   PREMIUM ANIMATIONS - Coming Soon Page
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

/* Blob animation for gradient orbs */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

/* Rainbow gradient shift for '26 countdown */
@keyframes rainbow-shift {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-rainbow-shift {
  animation: rainbow-shift 3s ease infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Optimized floating animations - GPU accelerated */
@keyframes float-slow {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(30px, -30px, 0);
  }
}

@keyframes float-slower {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(-40px, 40px, 0);
  }
}

@keyframes float-medium {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  50% {
    transform: translate3d(20px, -20px, 0);
  }
}

.animate-float-slow {
  animation: float-slow 15s ease-in-out infinite;
}

.animate-float-slower {
  animation: float-slower 20s ease-in-out infinite;
}

.animate-float-medium {
  animation: float-medium 18s ease-in-out infinite;
}

/* ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
   AI EXTRACTION ANIMATIONS - ImportDialogV2
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ */

/* Shimmer effect for extracting fields - creates a flowing gradient */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.animate-shimmer {
  animation: shimmer 2s linear infinite;
}

/* Fade in animation for completed extractions */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Pulse glow for AI processing indicator */
@keyframes pulseGlow {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(0, 112, 243, 0.4);
  }
  50% {
    box-shadow: 0 0 20px 4px rgba(0, 112, 243, 0.2);
  }
}

.animate-pulse-glow {
  animation: pulseGlow 2s ease-in-out infinite;
}
